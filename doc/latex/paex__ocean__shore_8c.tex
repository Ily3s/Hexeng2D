\hypertarget{paex__ocean__shore_8c}{}\doxysection{Hexeng2\+D/dependencies/portaudio/examples/paex\+\_\+ocean\+\_\+shore.c File Reference}
\label{paex__ocean__shore_8c}\index{Hexeng2D/dependencies/portaudio/examples/paex\_ocean\_shore.c@{Hexeng2D/dependencies/portaudio/examples/paex\_ocean\_shore.c}}


Generate Pink Noise using Gardner method, and make \char`\"{}waves\char`\"{}. Provides an example of how to post stuff to/from the audio callback using lock-\/free FIFOs implemented by the PA ringbuffer.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include \char`\"{}portaudio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pa\+\_\+ringbuffer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pa\+\_\+util.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_pink_noise}{Pink\+Noise}}
\item 
struct \mbox{\hyperlink{struct_bi_quad}{Bi\+Quad}}
\item 
struct \mbox{\hyperlink{struct_ocean_wave}{Ocean\+Wave}}
\item 
struct \mbox{\hyperlink{structpa_test_data}{pa\+Test\+Data}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{paex__ocean__shore_8c_aacad2d0d75b07d001133a8227bb16a09}{PINK\+\_\+\+MAX\+\_\+\+RANDOM\+\_\+\+ROWS}}~(30)
\item 
\#define \mbox{\hyperlink{paex__ocean__shore_8c_a543ce37e1e5c7fde4ec39c832136683c}{PINK\+\_\+\+RANDOM\+\_\+\+BITS}}~(24)
\item 
\#define \mbox{\hyperlink{paex__ocean__shore_8c_a2bc95aedc61109291640be3c2847d21d}{PINK\+\_\+\+RANDOM\+\_\+\+SHIFT}}~((sizeof(long)$\ast$8)-\/\mbox{\hyperlink{paex__ocean__shore_8c_a543ce37e1e5c7fde4ec39c832136683c}{PINK\+\_\+\+RANDOM\+\_\+\+BITS}})
\item 
\#define \mbox{\hyperlink{paex__ocean__shore_8c_a34df5bd2cb5b7e429e8041a7cb92da91}{NEW\+\_\+\+ROW\+\_\+\+SIZE}}~(12 + (8$\ast$rand())/RAND\+\_\+\+MAX)
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2e}{Env\+State}} \{ \mbox{\hyperlink{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ea60a93a744a578f0f98121e67b8dc64a7}{State\+\_\+k\+Attack}}
, \mbox{\hyperlink{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ead5fd09fd11e185840ca39f3487341375}{State\+\_\+k\+Pre\+Decay}}
, \mbox{\hyperlink{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2eababe61c394b789cd0bf974a2e1fb3445}{State\+\_\+k\+Decay}}
, \mbox{\hyperlink{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ea126bff26d4928e6c99a2b63c3a192a34}{State\+\_\+k\+Cnt}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} \mbox{\hyperlink{paex__ocean__shore_8c_af0dae67ebb88c9e578848aa1fceaf8f8}{Initialize\+Pink\+Noise}} (\mbox{\hyperlink{struct_pink_noise}{Pink\+Noise}} $\ast$pink, int num\+Rows)
\item 
float \mbox{\hyperlink{paex__ocean__shore_8c_acfbee971d40a150d4a00611ed7b69cd3}{Generate\+Pink\+Noise}} (\mbox{\hyperlink{struct_pink_noise}{Pink\+Noise}} $\ast$pink)
\item 
unsigned \mbox{\hyperlink{paex__ocean__shore_8c_aac16b3933990e9a8bddb66b509789dae}{Generate\+Wave}} (\mbox{\hyperlink{struct_ocean_wave}{Ocean\+Wave}} $\ast$wave, float $\ast$output, unsigned no\+Of\+Frames)
\item 
float \mbox{\hyperlink{paex__ocean__shore_8c_aa24e8a7f0ab18cae3d70fc59689e4273}{Process\+Biquad}} (const \mbox{\hyperlink{struct_bi_quad}{Bi\+Quad}} $\ast$coeffs, float $\ast$memory, float input)
\item 
\mbox{\hyperlink{struct_ocean_wave}{Ocean\+Wave}} $\ast$ \mbox{\hyperlink{paex__ocean__shore_8c_a6f53cca6e132a7847315f74f04a50340}{Initialize\+Wave}} (double SR, float attack\+In\+Seconds, float max\+Level, float position\+Left\+Right)
\item 
int \mbox{\hyperlink{paex__ocean__shore_8c_a840291bc02cba5474a4cb46a9b9566fe}{main}} (\mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Generate Pink Noise using Gardner method, and make \char`\"{}waves\char`\"{}. Provides an example of how to post stuff to/from the audio callback using lock-\/free FIFOs implemented by the PA ringbuffer. 

Optimization suggested by James Mc\+Cartney uses a tree to select which random value to replace. 
\begin{DoxyPre}
    x x x x x x x x x x x x x x x x
    x   x   x   x   x   x   x   x
    x       x       x       x
     x               x
       x
\end{DoxyPre}
 Tree is generated by counting trailing zeros in an increasing index. When the index is zero, no random number is selected.

\begin{DoxyAuthor}{Author}
Phil Burk \href{http://www.softsynth.com}{\texttt{ http\+://www.\+softsynth.\+com}} Robert Bielik 
\end{DoxyAuthor}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{paex__ocean__shore_8c_a34df5bd2cb5b7e429e8041a7cb92da91}\label{paex__ocean__shore_8c_a34df5bd2cb5b7e429e8041a7cb92da91}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!NEW\_ROW\_SIZE@{NEW\_ROW\_SIZE}}
\index{NEW\_ROW\_SIZE@{NEW\_ROW\_SIZE}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{NEW\_ROW\_SIZE}{NEW\_ROW\_SIZE}}
{\footnotesize\ttfamily \#define NEW\+\_\+\+ROW\+\_\+\+SIZE~(12 + (8$\ast$rand())/RAND\+\_\+\+MAX)}

\mbox{\Hypertarget{paex__ocean__shore_8c_aacad2d0d75b07d001133a8227bb16a09}\label{paex__ocean__shore_8c_aacad2d0d75b07d001133a8227bb16a09}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!PINK\_MAX\_RANDOM\_ROWS@{PINK\_MAX\_RANDOM\_ROWS}}
\index{PINK\_MAX\_RANDOM\_ROWS@{PINK\_MAX\_RANDOM\_ROWS}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{PINK\_MAX\_RANDOM\_ROWS}{PINK\_MAX\_RANDOM\_ROWS}}
{\footnotesize\ttfamily \#define PINK\+\_\+\+MAX\+\_\+\+RANDOM\+\_\+\+ROWS~(30)}

\mbox{\Hypertarget{paex__ocean__shore_8c_a543ce37e1e5c7fde4ec39c832136683c}\label{paex__ocean__shore_8c_a543ce37e1e5c7fde4ec39c832136683c}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!PINK\_RANDOM\_BITS@{PINK\_RANDOM\_BITS}}
\index{PINK\_RANDOM\_BITS@{PINK\_RANDOM\_BITS}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{PINK\_RANDOM\_BITS}{PINK\_RANDOM\_BITS}}
{\footnotesize\ttfamily \#define PINK\+\_\+\+RANDOM\+\_\+\+BITS~(24)}

\mbox{\Hypertarget{paex__ocean__shore_8c_a2bc95aedc61109291640be3c2847d21d}\label{paex__ocean__shore_8c_a2bc95aedc61109291640be3c2847d21d}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!PINK\_RANDOM\_SHIFT@{PINK\_RANDOM\_SHIFT}}
\index{PINK\_RANDOM\_SHIFT@{PINK\_RANDOM\_SHIFT}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{PINK\_RANDOM\_SHIFT}{PINK\_RANDOM\_SHIFT}}
{\footnotesize\ttfamily \#define PINK\+\_\+\+RANDOM\+\_\+\+SHIFT~((sizeof(long)$\ast$8)-\/\mbox{\hyperlink{paex__ocean__shore_8c_a543ce37e1e5c7fde4ec39c832136683c}{PINK\+\_\+\+RANDOM\+\_\+\+BITS}})}



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2e}\label{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2e}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!EnvState@{EnvState}}
\index{EnvState@{EnvState}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{EnvState}{EnvState}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2e}{Env\+State}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{State\_kAttack@{State\_kAttack}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!State\_kAttack@{State\_kAttack}}}\mbox{\Hypertarget{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ea60a93a744a578f0f98121e67b8dc64a7}\label{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ea60a93a744a578f0f98121e67b8dc64a7}} 
State\+\_\+k\+Attack&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{State\_kPreDecay@{State\_kPreDecay}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!State\_kPreDecay@{State\_kPreDecay}}}\mbox{\Hypertarget{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ead5fd09fd11e185840ca39f3487341375}\label{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ead5fd09fd11e185840ca39f3487341375}} 
State\+\_\+k\+Pre\+Decay&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{State\_kDecay@{State\_kDecay}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!State\_kDecay@{State\_kDecay}}}\mbox{\Hypertarget{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2eababe61c394b789cd0bf974a2e1fb3445}\label{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2eababe61c394b789cd0bf974a2e1fb3445}} 
State\+\_\+k\+Decay&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{State\_kCnt@{State\_kCnt}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!State\_kCnt@{State\_kCnt}}}\mbox{\Hypertarget{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ea126bff26d4928e6c99a2b63c3a192a34}\label{paex__ocean__shore_8c_a6ef105f364067626d9f25c5589aaff2ea126bff26d4928e6c99a2b63c3a192a34}} 
State\+\_\+k\+Cnt&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{paex__ocean__shore_8c_acfbee971d40a150d4a00611ed7b69cd3}\label{paex__ocean__shore_8c_acfbee971d40a150d4a00611ed7b69cd3}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!GeneratePinkNoise@{GeneratePinkNoise}}
\index{GeneratePinkNoise@{GeneratePinkNoise}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{GeneratePinkNoise()}{GeneratePinkNoise()}}
{\footnotesize\ttfamily float Generate\+Pink\+Noise (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_pink_noise}{Pink\+Noise}} $\ast$}]{pink }\end{DoxyParamCaption})}

\mbox{\Hypertarget{paex__ocean__shore_8c_aac16b3933990e9a8bddb66b509789dae}\label{paex__ocean__shore_8c_aac16b3933990e9a8bddb66b509789dae}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!GenerateWave@{GenerateWave}}
\index{GenerateWave@{GenerateWave}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{GenerateWave()}{GenerateWave()}}
{\footnotesize\ttfamily unsigned Generate\+Wave (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_ocean_wave}{Ocean\+Wave}} $\ast$}]{wave,  }\item[{float $\ast$}]{output,  }\item[{unsigned}]{no\+Of\+Frames }\end{DoxyParamCaption})}

\mbox{\Hypertarget{paex__ocean__shore_8c_af0dae67ebb88c9e578848aa1fceaf8f8}\label{paex__ocean__shore_8c_af0dae67ebb88c9e578848aa1fceaf8f8}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!InitializePinkNoise@{InitializePinkNoise}}
\index{InitializePinkNoise@{InitializePinkNoise}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{InitializePinkNoise()}{InitializePinkNoise()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} Initialize\+Pink\+Noise (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_pink_noise}{Pink\+Noise}} $\ast$}]{pink,  }\item[{int}]{num\+Rows }\end{DoxyParamCaption})}

\mbox{\Hypertarget{paex__ocean__shore_8c_a6f53cca6e132a7847315f74f04a50340}\label{paex__ocean__shore_8c_a6f53cca6e132a7847315f74f04a50340}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!InitializeWave@{InitializeWave}}
\index{InitializeWave@{InitializeWave}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{InitializeWave()}{InitializeWave()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_ocean_wave}{Ocean\+Wave}} $\ast$ Initialize\+Wave (\begin{DoxyParamCaption}\item[{double}]{SR,  }\item[{float}]{attack\+In\+Seconds,  }\item[{float}]{max\+Level,  }\item[{float}]{position\+Left\+Right }\end{DoxyParamCaption})}

\mbox{\Hypertarget{paex__ocean__shore_8c_a840291bc02cba5474a4cb46a9b9566fe}\label{paex__ocean__shore_8c_a840291bc02cba5474a4cb46a9b9566fe}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!main@{main}}
\index{main@{main}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{paex__ocean__shore_8c_aa24e8a7f0ab18cae3d70fc59689e4273}\label{paex__ocean__shore_8c_aa24e8a7f0ab18cae3d70fc59689e4273}} 
\index{paex\_ocean\_shore.c@{paex\_ocean\_shore.c}!ProcessBiquad@{ProcessBiquad}}
\index{ProcessBiquad@{ProcessBiquad}!paex\_ocean\_shore.c@{paex\_ocean\_shore.c}}
\doxysubsubsection{\texorpdfstring{ProcessBiquad()}{ProcessBiquad()}}
{\footnotesize\ttfamily float Process\+Biquad (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_bi_quad}{Bi\+Quad}} $\ast$}]{coeffs,  }\item[{float $\ast$}]{memory,  }\item[{float}]{input }\end{DoxyParamCaption})}

