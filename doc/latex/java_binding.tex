{\itshape Note\+: this page has not been reviewed, and may contain errors.}\hypertarget{java_binding_java_draft}{}\doxysection{DRAFT -\/ IN PROGRESS}\label{java_binding_java_draft}
9/4/12 JPort\+Audio is very new and should be considered an \char`\"{}alpha\char`\"{} release. The building of JPort\+Audio will eventually be integrated into the Makefile as an optional build.

Currently JPort\+Audio is only supported for Windows and Macintosh. Please contact us if you want to help with porting Linux.

For reference documentation of the JPort\+Audio API see\+: \mbox{\hyperlink{classcom_1_1portaudio_1_1_port_audio}{com.\+portaudio.\+Port\+Audio}}

For an example see\+: \mbox{\hyperlink{_play_sine_8java}{Play\+Sine.\+java}}\hypertarget{java_binding_java_comp_windows}{}\doxysection{Building JPort\+Audio on Windows}\label{java_binding_java_comp_windows}
Build the Java code using the Eclipse project in \char`\"{}jportaudio\char`\"{}. Export as \char`\"{}jportaudio.\+jar\char`\"{}.

If you modify the JNI API then you will need to regenerate the JNI .h files using\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cd bindings/java/scripts}
\DoxyCodeLine{make\_header.bat}

\end{DoxyCode}


Build the JNI DLL using the Visual Studio 2010 solution in \char`\"{}java/c/build/vs2010/\+Port\+Audio\+JNI\char`\"{}.\hypertarget{java_binding_java_use_windows}{}\doxysection{Using JPort\+Audio on Windows}\label{java_binding_java_use_windows}
Put the \char`\"{}jportaudio.\+jar\char`\"{} in the classpath for your application. Place the following libraries where they can be found, typically in the same folder as your application.


\begin{DoxyItemize}
\item portaudio\+\_\+x86.\+dll
\item portaudio\+\_\+x64.\+dll
\item jportaudio\+\_\+x86.\+dll
\item jportaudio\+\_\+x64.\+dll
\end{DoxyItemize}\hypertarget{java_binding_java_comp_max}{}\doxysection{Building JPort\+Audio on Mac}\label{java_binding_java_comp_max}
These are notes from building JPort\+Audio on a Mac with 10.\+6.\+8 and XCode 4.

I created a target of type \textquotesingle{}C\textquotesingle{} library.

I added the regular Port\+Audio frameworks plus the Java\+VM framework.

I modified \mbox{\hyperlink{com__portaudio___port_audio_8h}{com\+\_\+portaudio\+\_\+\+Port\+Audio.\+h}} and \mbox{\hyperlink{com__portaudio___blocking_stream_8h}{com\+\_\+portaudio\+\_\+\+Blocking\+Stream.\+h}} so that jni.\+h could found.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#if defined(\_\_APPLE\_\_)}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <JavaVM/jni.h>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <jni.h>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#endif}}

\end{DoxyCode}


This is bad because those header files are autogenerated and will be overwritten. We need a better solution for this.

I had trouble finding the \char`\"{}libjportaudio.\+jnilib\char`\"{}. So I added a Build Phase that copied the library to \char`\"{}/\+Users/phil/\+Library/\+Java/\+Extensions\char`\"{}.

On the Mac we can create a universal library for both 32 and 64-\/bit JVMs. So in the JAR file I will open \char`\"{}jportaudio\char`\"{} on Apple. ON WIndows I will continue to open \char`\"{}jportaudio\+\_\+x64\char`\"{} and \char`\"{}jportaudio\+\_\+x86\char`\"{}. 