\hypertarget{pa__dither_8c}{}\doxysection{Hexeng2\+D/dependencies/portaudio/src/common/pa\+\_\+dither.c File Reference}
\label{pa__dither_8c}\index{Hexeng2D/dependencies/portaudio/src/common/pa\_dither.c@{Hexeng2D/dependencies/portaudio/src/common/pa\_dither.c}}


Functions for generating dither noise.  


{\ttfamily \#include \char`\"{}pa\+\_\+types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pa\+\_\+dither.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{pa__dither_8c_a1ef6e78befe9c76de7ef681ffe6595ae}{PA\+\_\+\+DITHER\+\_\+\+BITS\+\_\+}}~(15)
\item 
\#define \mbox{\hyperlink{pa__dither_8c_aa691c62aead466ca28bf49f9817415c8}{DITHER\+\_\+\+SHIFT\+\_\+}}~((sizeof(\mbox{\hyperlink{pa__types_8h_a0ee78118ce1421aba7239c18f0ceaa22}{Pa\+Int32}})$\ast$8 -\/ \mbox{\hyperlink{pa__dither_8c_a1ef6e78befe9c76de7ef681ffe6595ae}{PA\+\_\+\+DITHER\+\_\+\+BITS\+\_\+}}) + 1)
\item 
\#define \mbox{\hyperlink{pa__dither_8c_a7dc8d0b301da61f07045884875732694}{PA\+\_\+\+FLOAT\+\_\+\+DITHER\+\_\+\+SCALE\+\_\+}}~(1.\+0f / ((1$<$$<$\mbox{\hyperlink{pa__dither_8c_a1ef6e78befe9c76de7ef681ffe6595ae}{PA\+\_\+\+DITHER\+\_\+\+BITS\+\_\+}})-\/1))
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} \mbox{\hyperlink{pa__dither_8c_a56ab7f8b545f2761b64aed643eeb61bb}{Pa\+Util\+\_\+\+Initialize\+Triangular\+Dither\+State}} (\mbox{\hyperlink{struct_pa_util_triangular_dither_generator}{Pa\+Util\+Triangular\+Dither\+Generator}} $\ast$state)
\begin{DoxyCompactList}\small\item\em Initialize dither state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{pa__types_8h_a0ee78118ce1421aba7239c18f0ceaa22}{Pa\+Int32}} \mbox{\hyperlink{pa__dither_8c_aecfeaa283ba758ecf37ad8ffdbff9c9c}{Pa\+Util\+\_\+\+Generate16\+Bit\+Triangular\+Dither}} (\mbox{\hyperlink{struct_pa_util_triangular_dither_generator}{Pa\+Util\+Triangular\+Dither\+Generator}} $\ast$state)
\begin{DoxyCompactList}\small\item\em Calculate 2 LSB dither signal with a triangular distribution. Ranged for adding to a 1 bit right-\/shifted 32 bit integer prior to \texorpdfstring{$>$}{>}\texorpdfstring{$>$}{>}15. eg\+: \end{DoxyCompactList}\item 
float \mbox{\hyperlink{pa__dither_8c_aa97d6b36a088de07faad23fa3ae1ecaa}{Pa\+Util\+\_\+\+Generate\+Float\+Triangular\+Dither}} (\mbox{\hyperlink{struct_pa_util_triangular_dither_generator}{Pa\+Util\+Triangular\+Dither\+Generator}} $\ast$state)
\begin{DoxyCompactList}\small\item\em Calculate 2 LSB dither signal with a triangular distribution. Ranged for adding to a pre-\/scaled float. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for generating dither noise. 



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{pa__dither_8c_aa691c62aead466ca28bf49f9817415c8}\label{pa__dither_8c_aa691c62aead466ca28bf49f9817415c8}} 
\index{pa\_dither.c@{pa\_dither.c}!DITHER\_SHIFT\_@{DITHER\_SHIFT\_}}
\index{DITHER\_SHIFT\_@{DITHER\_SHIFT\_}!pa\_dither.c@{pa\_dither.c}}
\doxysubsubsection{\texorpdfstring{DITHER\_SHIFT\_}{DITHER\_SHIFT\_}}
{\footnotesize\ttfamily \#define DITHER\+\_\+\+SHIFT\+\_\+~((sizeof(\mbox{\hyperlink{pa__types_8h_a0ee78118ce1421aba7239c18f0ceaa22}{Pa\+Int32}})$\ast$8 -\/ \mbox{\hyperlink{pa__dither_8c_a1ef6e78befe9c76de7ef681ffe6595ae}{PA\+\_\+\+DITHER\+\_\+\+BITS\+\_\+}}) + 1)}

\mbox{\Hypertarget{pa__dither_8c_a1ef6e78befe9c76de7ef681ffe6595ae}\label{pa__dither_8c_a1ef6e78befe9c76de7ef681ffe6595ae}} 
\index{pa\_dither.c@{pa\_dither.c}!PA\_DITHER\_BITS\_@{PA\_DITHER\_BITS\_}}
\index{PA\_DITHER\_BITS\_@{PA\_DITHER\_BITS\_}!pa\_dither.c@{pa\_dither.c}}
\doxysubsubsection{\texorpdfstring{PA\_DITHER\_BITS\_}{PA\_DITHER\_BITS\_}}
{\footnotesize\ttfamily \#define PA\+\_\+\+DITHER\+\_\+\+BITS\+\_\+~(15)}

\mbox{\Hypertarget{pa__dither_8c_a7dc8d0b301da61f07045884875732694}\label{pa__dither_8c_a7dc8d0b301da61f07045884875732694}} 
\index{pa\_dither.c@{pa\_dither.c}!PA\_FLOAT\_DITHER\_SCALE\_@{PA\_FLOAT\_DITHER\_SCALE\_}}
\index{PA\_FLOAT\_DITHER\_SCALE\_@{PA\_FLOAT\_DITHER\_SCALE\_}!pa\_dither.c@{pa\_dither.c}}
\doxysubsubsection{\texorpdfstring{PA\_FLOAT\_DITHER\_SCALE\_}{PA\_FLOAT\_DITHER\_SCALE\_}}
{\footnotesize\ttfamily \#define PA\+\_\+\+FLOAT\+\_\+\+DITHER\+\_\+\+SCALE\+\_\+~(1.\+0f / ((1$<$$<$\mbox{\hyperlink{pa__dither_8c_a1ef6e78befe9c76de7ef681ffe6595ae}{PA\+\_\+\+DITHER\+\_\+\+BITS\+\_\+}})-\/1))}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{pa__dither_8c_aecfeaa283ba758ecf37ad8ffdbff9c9c}\label{pa__dither_8c_aecfeaa283ba758ecf37ad8ffdbff9c9c}} 
\index{pa\_dither.c@{pa\_dither.c}!PaUtil\_Generate16BitTriangularDither@{PaUtil\_Generate16BitTriangularDither}}
\index{PaUtil\_Generate16BitTriangularDither@{PaUtil\_Generate16BitTriangularDither}!pa\_dither.c@{pa\_dither.c}}
\doxysubsubsection{\texorpdfstring{PaUtil\_Generate16BitTriangularDither()}{PaUtil\_Generate16BitTriangularDither()}}
{\footnotesize\ttfamily \mbox{\hyperlink{pa__types_8h_a0ee78118ce1421aba7239c18f0ceaa22}{Pa\+Int32}} Pa\+Util\+\_\+\+Generate16\+Bit\+Triangular\+Dither (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_pa_util_triangular_dither_generator}{Pa\+Util\+Triangular\+Dither\+Generator}} $\ast$}]{dither\+State }\end{DoxyParamCaption})}



Calculate 2 LSB dither signal with a triangular distribution. Ranged for adding to a 1 bit right-\/shifted 32 bit integer prior to \texorpdfstring{$>$}{>}\texorpdfstring{$>$}{>}15. eg\+: 


\begin{DoxyPre}
    signed long in = *
    signed long dither = PaUtil\_Generate16BitTriangularDither( ditherState );
    signed short out = (signed short)(((in>>1) + dither) >> 15);
\end{DoxyPre}
 \begin{DoxyReturn}{Returns}
A signed 32-\/bit integer with a range of +32767 to -\/32768 
\end{DoxyReturn}
\mbox{\Hypertarget{pa__dither_8c_aa97d6b36a088de07faad23fa3ae1ecaa}\label{pa__dither_8c_aa97d6b36a088de07faad23fa3ae1ecaa}} 
\index{pa\_dither.c@{pa\_dither.c}!PaUtil\_GenerateFloatTriangularDither@{PaUtil\_GenerateFloatTriangularDither}}
\index{PaUtil\_GenerateFloatTriangularDither@{PaUtil\_GenerateFloatTriangularDither}!pa\_dither.c@{pa\_dither.c}}
\doxysubsubsection{\texorpdfstring{PaUtil\_GenerateFloatTriangularDither()}{PaUtil\_GenerateFloatTriangularDither()}}
{\footnotesize\ttfamily float Pa\+Util\+\_\+\+Generate\+Float\+Triangular\+Dither (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_pa_util_triangular_dither_generator}{Pa\+Util\+Triangular\+Dither\+Generator}} $\ast$}]{dither\+State }\end{DoxyParamCaption})}



Calculate 2 LSB dither signal with a triangular distribution. Ranged for adding to a pre-\/scaled float. 


\begin{DoxyPre}
    float in = *
    float dither = PaUtil\_GenerateFloatTriangularDither( ditherState );
    // use smaller scaler to prevent overflow when we add the dither
    signed short out = (signed short)(in*(32766.0f) + dither );
\end{DoxyPre}
 \begin{DoxyReturn}{Returns}
A float with a range of -\/2.\+0 to +1.\+99999. 
\end{DoxyReturn}
\mbox{\Hypertarget{pa__dither_8c_a56ab7f8b545f2761b64aed643eeb61bb}\label{pa__dither_8c_a56ab7f8b545f2761b64aed643eeb61bb}} 
\index{pa\_dither.c@{pa\_dither.c}!PaUtil\_InitializeTriangularDitherState@{PaUtil\_InitializeTriangularDitherState}}
\index{PaUtil\_InitializeTriangularDitherState@{PaUtil\_InitializeTriangularDitherState}!pa\_dither.c@{pa\_dither.c}}
\doxysubsubsection{\texorpdfstring{PaUtil\_InitializeTriangularDitherState()}{PaUtil\_InitializeTriangularDitherState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glad_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} Pa\+Util\+\_\+\+Initialize\+Triangular\+Dither\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_pa_util_triangular_dither_generator}{Pa\+Util\+Triangular\+Dither\+Generator}} $\ast$}]{state }\end{DoxyParamCaption})}



Initialize dither state. 

